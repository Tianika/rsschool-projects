(()=>{"use strict";!function(){const e=["./assets/video/video0.mp4","./assets/video/video1.mp4","./assets/video/video2.mp4","./assets/video/video3.mp4","./assets/video/video4.mp4"],t=["./assets/video/poster0.jpg","./assets/video/poster1.jpg","./assets/video/poster2.jpg","./assets/video/poster3.jpg","./assets/video/poster4.jpg"],o=document.querySelector(".video-arrow.left"),n=document.querySelector(".video-arrow.right"),l=document.querySelectorAll(".video-bullet"),c=document.querySelectorAll(".video-item");document.querySelector(".video-slider-inner");const r=document.querySelector(".player-video");let i=0;c.forEach((e=>{e.style.left=34.33*i+"%",i++}));let s=0,a=!1;function u(e){"left"===e&&(s+1===c.length?s=0:s++),"right"===e&&(s-1==-1?s=c.length-1:s--)}function d(){l.forEach((e=>{e.classList.remove("current")})),l[s].classList.add("current")}function m(){r.setAttribute("src",e[s]),r.setAttribute("poster",t[s])}o.addEventListener("click",(()=>{a||(a=!0,q(),u("left"),d(),m(),function(){let e=document.querySelectorAll(".video-item"),t=document.querySelector(".video-slider-inner"),o=0;e.forEach((e=>{e.style.left=34.33*o-34.33+"%",o++}));let n=e[0];n.style.opacity=0,n.style.left=34.33*o-34.33+"%",setTimeout((()=>{t.append(n),n.style.opacity=1,a=!1}),1e3)}())})),n.addEventListener("click",(()=>{a||(a=!0,q(),u("right"),d(),m(),function(){let e=document.querySelectorAll(".video-item"),t=document.querySelector(".video-slider-inner"),o=0;e.forEach((e=>{e.style.left=34.33*o+34.33+"%",o++}));let n=e[e.length-1];n.style.opacity=0,n.style.left="0%",t.prepend(n),setTimeout((()=>{n.style.opacity=1,a=!1}),1e3)}())}));const g=document.querySelector(".play-screen"),y=document.querySelector(".player-button.play"),p=document.querySelector(".player-button.volume"),v=document.querySelector(".progress.vol-progress"),f=document.querySelector(".progress.video-progress"),L=document.querySelector(".player-button.fullscreen");function S(){r.paused?(r.play(),y.classList.toggle("play"),y.classList.toggle("pause"),g.style.display="none"):(r.pause(),y.classList.toggle("play"),y.classList.toggle("pause"),g.style.display="block")}function q(){r.paused||(y.classList.add("play"),y.classList.remove("pause"),g.style.display="block")}function b(){L.classList.toggle("fullscreen"),L.classList.toggle("fullscreen-exit"),r.requestFullscreen()?r.requestFullscreen():r.exitFullscreen()&&r.exitFullscreen()}function k(){let e=v.value;console.log(e,r),p.classList.toggle("volume"),p.classList.toggle("mute"),r.volume?r.volume=0:r.volume=e}document.querySelector(".video-control-panel"),g.addEventListener("click",(()=>{S()})),y.addEventListener("click",(()=>{S()})),r.addEventListener("click",(()=>{S()})),p.addEventListener("click",(()=>{k()})),v.addEventListener("input",(function(){r.volume=v.value;const e=v.value;v.style.background=`linear-gradient(90deg, #710707 0%, #710707 ${100*e}%, #C4C4C4 ${100*e}%, #C4C4C4 100%)`,"0"===v.value?(p.classList.remove("volume"),p.classList.add("mute")):(p.classList.add("volume"),p.classList.remove("mute"))})),r.addEventListener("timeupdate",(()=>{var e;e=r.currentTime/r.duration*100,f.style.background=`linear-gradient(90deg, #710707 0%, #710707 ${e}%, #C4C4C4 ${e}%, #C4C4C4 100%)`})),f.addEventListener("input",(()=>{const e=f.value*r.duration/100;r.currentTime=e})),r.addEventListener("ended",(()=>{r.currentTime=0,y.classList.add("play"),y.classList.remove("pause"),g.style.display="block"})),L.addEventListener("click",(()=>{b()}));const h=document.querySelector(".playback-rate");r.addEventListener("mouseover",(function(){document.onkeydown=function(e){"Space"===e.code&&S(),"KeyM"===e.code&&k(),"KeyF"===e.code&&b(),"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||(document.onkeyup=function(e){"Comma"===e.code&&(r.playbackRate-=.1,h.innerHTML=`${r.playbackRate.toFixed(1)}x`,setTimeout((()=>{h.innerHTML=""}),500)),"Period"===e.code&&(r.playbackRate+=.1,h.innerHTML=`${r.playbackRate.toFixed(1)}x`,setTimeout((()=>{h.innerHTML=""}),500))})}}))}(),function(){const e=["./assets/img/galery/galery1.jpg","./assets/img/galery/galery2.jpg","./assets/img/galery/galery3.jpg","./assets/img/galery/galery4.jpg","./assets/img/galery/galery5.jpg","./assets/img/galery/galery6.jpg","./assets/img/galery/galery7.jpg","./assets/img/galery/galery8.jpg","./assets/img/galery/galery9.jpg","./assets/img/galery/galery10.jpg","./assets/img/galery/galery11.jpg","./assets/img/galery/galery12.jpg","./assets/img/galery/galery13.jpg","./assets/img/galery/galery14.jpg","./assets/img/galery/galery15.jpg"];e.sort((()=>Math.random()-.5));const t=document.querySelector(".picture-inner-container");e.forEach((e=>{const o=document.createElement("img");o.src=`${e}`,o.alt="galery image",o.classList.add("animated"),t.append(o)}))}(),function(){const e=document.querySelectorAll(".animated");if(e.length>0){function t(){e.forEach((e=>{const t=e.offsetHeight,n=o(e).top;let l=window.innerHeight-t/10;t>window.innerHeight&&(l=window.innerHeight-window.innerHeight/10),pageYOffset>n-l?e.classList.add("active"):e.classList.remove("active")}))}function o(e){const t=e.getBoundingClientRect(),o=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+o}}window.addEventListener("scroll",t),t()}}(),function(){const e=document.querySelector(".button-buy"),t=document.querySelector(".buy-ticket-close"),o=document.querySelector(".buy-tickets-overlay");e.addEventListener("click",(function(){o.classList.remove("buy-tickets-hidden")})),t.addEventListener("click",(function(){o.classList.add("buy-tickets-hidden")})),o.addEventListener("click",(function(e){e.target===o&&o.classList.add("buy-tickets-hidden")}))}(),function(){const e=document.querySelector(".input-form.date"),t=(document.querySelector(".input-form.time"),document.querySelector(".input-form.text")),o=document.querySelector(".input-form.email"),n=document.querySelector(".input-form.tel"),l=document.querySelector(".warning.name"),c=document.querySelector(".warning.email"),r=document.querySelector(".warning.tel"),i=new Date,s=i.getFullYear(),a=i.getMonth()+1,u=i.getDate();e.setAttribute("min",`${s}-${a}-${u}`),t.addEventListener("input",(()=>{!function(){const e=t.value.length>=3&&t.value.length<=15,o=0===t.value.replace(/[a-zA-Zа-яА-ЯёЁ\s]+/g,"").length;e&&o||0==t.value?(t.classList.remove("invalid"),l.innerHTML=""):(l.innerHTML="Name must contain only letters and space",t.classList.add("invalid"))}()})),o.addEventListener("input",(()=>{/^[a-zA-Z-.0-9]+@[a-z]+\.[a-z]{2,3}$/.test(o.value)||0==o.value?(o.classList.remove("invalid"),c.innerHTML=""):(c.innerHTML="Email must be of the xxxx@xxx.xx format",o.classList.add("invalid"))})),n.addEventListener("input",(()=>{/[0-9]{2,3}-[0-9]{2,3}-[0-9]{2,3}-[0-9]{2,3}/.test(n.value)&&n.value.match(/[0-9]/g).length<10||0==n.value.length?(n.classList.remove("invalid"),r.innerHTML=""):(n.classList.add("invalid"),r.innerHTML="Need correct phone number of the 123-45-67-89 format")}))}(),function(){const e=document.querySelector(".button-border.basic input"),t=document.querySelector(".button-border.senior input"),o=document.querySelector(".amount-total span"),n=document.querySelectorAll(".button-border button"),l=document.querySelectorAll(".ticket-radio input");let c=20;function r(n){o.innerHTML=e.value*n+t.value*n/2}function i(e){"1"==e&&(c=20),"2"==e&&(c=25),"3"==e&&(c=40)}localStorage.basicTicketsCount&&(e.value=localStorage.basicTicketsCount),localStorage.seniorTicketsCount&&(t.value=localStorage.seniorTicketsCount),localStorage.typeTicketsChecked&&(l[localStorage.typeTicketsChecked-1].setAttribute("checked","checked"),i(localStorage.typeTicketsChecked)),r(c),n.forEach((o=>{o.addEventListener("click",(()=>{r(c),localStorage.basicTicketsCount=e.value,localStorage.seniorTicketsCount=t.value}))})),l.forEach((e=>{e.addEventListener("click",(()=>{i(e.value),r(c),localStorage.typeTicketsChecked=e.value}))}))}(),function(){const e=document.querySelector(".button-buy"),t=document.querySelector(".ticket-name.basic span"),o=document.querySelector(".ticket-name.senior span"),n=document.querySelector(".booking-total-name.basic span"),l=document.querySelector(".booking-total-name.senior span"),c=document.querySelectorAll(".button-number button"),r=document.querySelector(".button-number.basic .number"),i=document.querySelector(".button-number.senior .number"),s=document.querySelector(".input-form.date"),a=(document.querySelectorAll("#select-time option"),document.querySelector(".overview-text.date")),u=document.querySelectorAll(".booking-total-sum span"),d=document.querySelector(".total-amount-sum"),m=document.querySelectorAll(".ticket-count"),g=(document.querySelector(".input-form"),document.querySelectorAll(".select-ticket-type")),y=document.querySelector(".overview-text.temporary");let p=20,v="1",f="Permanent exhibition";function L(){var e;localStorage.basicTicketsCount&&(r.value=localStorage.basicTicketsCount),localStorage.seniorTicketsCount&&(i.value=localStorage.seniorTicketsCount),localStorage.typeTicketsChecked&&("1"===(e=localStorage.typeTicketsChecked)&&(v="1",f="Permanent exhibition",p=20),"2"===e&&(v="2",f="Temporary exhibition",p=25),"3"===e&&(v="3",f="Combined Admission",p=40))}function S(){g.forEach((e=>{e.removeAttribute("selected"),e.value===v&&e.setAttribute("selected","selected")}))}function q(){y.innerHTML=f}function b(){t.innerHTML=p,o.innerHTML=p/2,n.innerHTML=p,l.innerHTML=p/2}function k(){let e=p*r.value,t=p/2*i.value;u[0].innerHTML=e,u[1].innerHTML=t,d.innerHTML=e+t,m[0].innerHTML=r.value,m[1].innerHTML=i.value}L(),b(),k(),S(),q(),e.addEventListener("click",(()=>{L(),b(),k(),S(),q()})),c.forEach((e=>{e.addEventListener("click",(()=>{k()}))})),s.addEventListener("input",(()=>{!function(){const e=new Date(s.value);a.innerHTML=e.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}()}))}(),function(){const e=document.querySelector(".burger-icon"),t=document.querySelector(".menu-burger"),o=document.querySelector(".burger-icon"),n=document.querySelectorAll(".burger-link"),l=document.querySelector(".welcome-title"),c=document.querySelector(".welcome-subtitle"),r=document.querySelector(".welcome-button");e.addEventListener("click",(function(){t.classList.toggle("burger-hidden"),o.classList.toggle("close"),l.classList.toggle("opacity"),c.classList.toggle("opacity"),r.classList.toggle("opacity")})),n.forEach((e=>{e.addEventListener("click",(function(){t.classList.toggle("burger-hidden"),o.classList.toggle("close"),l.classList.toggle("opacity"),c.classList.toggle("opacity"),r.classList.toggle("opacity")}))}))}(),function(){const e=["./assets/img/welcome-slider/1.jpg","./assets/img/welcome-slider/2.jpg","./assets/img/welcome-slider/3.jpg","./assets/img/welcome-slider/4.jpg","./assets/img/welcome-slider/5.jpg"],t=document.querySelector(".slider-arrow.left"),o=document.querySelector(".slider-arrow.right"),n=document.querySelector(".slider-current"),l=document.querySelectorAll(".index-square");let c=0,r=0,s=!1;function a(t){console.log(c),"left"===t&&(c+1===e.length?c=0:c++,r=1),"right"===t&&(c-1==-1?c=e.length-1:c--,r=-1)}function u(){const t=document.createElement("img");return t.src=e[c],t.classList.add("slider-img"),t}function d(){let e=u();n.innerHTML=`0${c+1}`;const t=document.querySelector(".slider-img-container");e.style.left=100*r+"%",t.appendChild(e)}function m(){l.forEach((e=>{e.classList.remove("current")})),l[c].classList.add("current")}d(),o.addEventListener("click",(e=>{e.preventDefault(),s||(a("left"),m(),console.log("left"),d(),s=!0,setTimeout((()=>{!function(){let e=document.querySelectorAll(".slider-img"),t=0;e.forEach((e=>{e.style.left=100*t-100+"%",t++})),setTimeout((()=>{e[0].remove(),s=!1}),1e3)}()}),0))})),t.addEventListener("click",(e=>{e.preventDefault(),s||(a("right"),m(),console.log("right"),function(){let e=u();n.innerHTML=`0${c+1}`;const t=document.querySelector(".slider-img-container");e.style.left=100*r+"%",t.prepend(e)}(),s=!0,setTimeout((()=>{!function(){let e=document.querySelectorAll(".slider-img"),t=0;e.forEach((e=>{e.style.left=100*t+"%",t++})),setTimeout((()=>{e[e.length-1].remove(),s=!1}),1e3)}()}),0))})),console.log(l),l.forEach((e=>{e.addEventListener("click",((e,t,o)=>{e.preventDefault(),console.log(e.target),i=e.target.index,i,i}))}))}(),function(){let e=document.querySelector(".explore-slider input"),t=document.querySelector(".original-image");e.addEventListener("input",(function(){t.style.width=this.value+"%",e.style.backgroundPosition=this.value+"%"}))}()})();